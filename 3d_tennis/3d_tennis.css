:root {
  ---body_padding: 0;
}
.game {
  display: flex; align-items: center; justify-content: center;
  min-height: 100vh; max-width: 100vw; overflow: hidden;
  perspective: 1800px; perspective-origin: 50% 0%; transform: scale(1.5);
}
.container {
  position: absolute; top: calc(50% + 0px);
  transform-style: preserve-3d; transform: rotateY(90deg);
  animation: rotate 10s linear infinite alternate;
}
.floor, .floor2, .floor3, .floor4 {
  ---border_color: #fff3;
  position: absolute; width: 100vmax; height: 100vmax;
  transform: translate(-50%, -50%) rotateX(90deg) translateZ(-180px);
}

.game.wireframe :is(.floor, .floor2, .floor3, .floor4) {
    background-image:
    radial-gradient(#0000, #111),
    repeating-linear-gradient(var(---border_color) 0, transparent 1px 40px, var(---border_color) 41px),
    repeating-linear-gradient(to left, var(---border_color) 0, transparent 1px 40px, var(---border_color) 41px);
}

.floor2 {transform: translateY(180px) translate3d(0, -100%, 0) rotateY(90deg)}
.floor3 {transform: translateY(180px) translate3d(-50%, -100%, -50vmax)}
.floor4 {transform: translateY(180px) translate3d(-50%, -100%, 50vmax)}

.table {
  position: absolute; top: -180px; left: -380px; height: 360px; width: 760px;
  background-color: var(---card); transform: rotateX(90deg); transform-style: preserve-3d;
}
.table > .top {background-color: var(---card); position: absolute; top: 0; left: 0;
  background-image:
    radial-gradient(#fff1, #0003),
    linear-gradient(transparent 0 50%, var(---card) calc(50% - 3px) calc(50% + 3px), transparent 50% 100%);
  width: 100%; height: 100%;
}
.table > :is(.top, .front, .back, .left, .right) {backdrop-filter: blur(30px)!important;}

.table {
  > .net {
    position: absolute; width: 5%; height: 100%; left: 50%;
    transform: rotateY(-90deg); transform-origin: left; transform-style: preserve-3d;
    background: #fff3; backdrop-filter: blur(5px);
    border: var(---border); border-radius: 0 12px 12px 0;
    > .top {
      position: absolute; top: 0; right: -1px; width: 2px; height: 100%;
      background-color: var(---card); transform: rotateY(90deg);
    }
    > .left {
      position: absolute; top: -1px; left: 0; width: 100%; height: 2px;
      background-color: var(---card); transform: rotateX(90deg);
    }
    > .right {
      position: absolute; bottom: -1px; left: 0; width: 100%; height: 2px;
      background-color: var(---card); transform: rotateX(90deg);
    }
  }
  > .front {
    position: absolute; top: 100%; left: 0; width: 100%; height: 18px;
    background-color: var(---card); transform: rotateX(-90deg); transform-origin: top;
  }
  > .back {
    position: absolute; top: 0; left: 0; width: 100%; height: 18px;
    background-color: var(---card); transform: rotateX(-90deg) rotateY(180deg); transform-origin: top;
  }
  > .front, > .back {
    display: flex; justify-content: center; align-items: center; font-size: 10.8px; color: #fff9;
  }
  > .left {
    position: absolute; top: 0; left: 0; width: 18px; height: 100%;
    background-color: var(---card); transform: rotateY(90deg); transform-origin: left;
  }
  > .right {
    position: absolute; top: 0; right: 0; width: 18px; height: 100%;
    background-color: var(---card); transform: rotateY(-90deg); transform-origin: right;
  }
}
.ballWrapper {
  position: absolute; bottom: 1px; transform-style: preserve-3d; transition: transform .1s;
  .ball {
    position: absolute; top: -11.988px; left: -5.994px; width: 11.988px; height: 11.988px;
    border-radius: 50%; background-color: var(---text);
    background-image: radial-gradient(circle at 50% 10%, var(---text), var(---border-color-invert));
    transform: rotate3d(0, 1, 0, 90deg) translate3d(0rem, -20rem, -350rem);
    transition: transform .1s;
  }
  .ballShadow {
    position: absolute; bottom: 0; left: 0; width: 35.964px; height: 35.964px;
    background-image: radial-gradient(#000, #0000 50%);
    transform: rotateX(-90deg) translateY(-11.988px);
  }
}
.player {
  position: absolute; top: 0; width: 36px; height: 36px;
  transform-style: preserve-3d; transition: transform .1s;
}
.player1 {
  right: 360px; transform: rotateY(-90deg) translateY(-38rem) translateZ(0rem);
  > .playerBox {background: var(---color)}
}
.player2 {
  left: 360px; transform: rotateY(-90deg) translateY(-38rem) translateZ(0rem);
  > .playerBox {
    background: var(---color); filter: hue-rotate(180deg);
    animation-delay: -1.25s;
  }
}
.playerBox {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  border-radius: var(---radius-x); border: var(---border);
  background-origin: border-box!important; background-image: linear-gradient(#0000, #0004);
  transform-style: preserve-3d;
  .top {
    position: absolute; top: 0; left: 0; width: 100%; height: 9px;
    background-color: inherit;
    transform: rotateX(-90deg); transform-origin: top;
  }
  .left {
    position: absolute; top: 0; left: 0; width: 9px; height: 100%;
    background-color: inherit; background-image: linear-gradient(#0000, #0007);
    transform: rotateY(90deg); transform-origin: left;
  }
  .right {
    position: absolute; top: 0; right: 0; width: 9px; height: 100%;
    background-color: inherit; background-image: linear-gradient(#0000, #0007);
    transform: rotateY(-90deg); transform-origin: right;
  }
  .back {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-color: inherit; border-radius: var(---radius0);
    transform: translateZ(-9px);
  }
  .shadow {
    position: absolute; top: 0; left: 50%; width: 300%; height: 100%;
    background-image: radial-gradient(at center, #0003, #0000 50%); transform-origin: top;
    transform: translateX(-56rem) translateZ(70rem);
    animation: playerShadow 2.5s infinite ease-in; animation-delay: inherit;
  }
}